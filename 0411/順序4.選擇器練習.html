<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>js選擇器練習</title>
    <style>
        .box div{
            width: 150px;
            height: 150px;
        } 
        .blue{
            color: blue;
        }
        .italic{
            font-style: italic;
        }
        #h1_2{
            display: inline-block;
        }
    </style>
  </head>
  <body>
      
    <div class="box d-flex">
        <div id="div_1">
            <h1>選到的</h1>
            <h1 id="test">選不到</h1>
        </div>
        <div class="div_2"></div>
        <div class="div_1 div_2"></div>
        <div></div>
    </div>

    <h1 id="h1">title</h1>
    <h1 id="h1_2">title</h1>
    <button class="button"></button>

    <img id="img" src="" alt="">
    <input id="input-pwd" type="text">
   
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    <script>
        //透過ID選到div_1區塊
        let div_1 = document.getElementById("div_1");
        console.log(div_1);
        //透過類別選到div_2區塊
        let div_2 = document.getElementsByClassName("div_2")[0];
        //因為會回傳集合。所以要給索引值表示要選到第一個;
        console.warn(div_2);

        //透過標籤選擇作後一個區塊
        let div_3 = document.getElementsByTagName("div")[4];
        console.error(div_3);

        //queryselector和css規則相同，選擇包住4個區塊的大區塊
        let queryselector_selector = document.querySelector(".box");
        console.log(queryselector_selector);

        //queryselector只會回傳第一個找到的
        let queryselector_single = document.querySelector("#div_1>h1");
        console.warn(queryselector_single);

        //queryselectorAll選到全部
        let queryselector_All = document.querySelectorAll("#div_1>h1")[1]; //回傳節點list
        console.error(queryselector_All);//選到全部的第二個

        // 單純修改h1文字
        let h1 = document.getElementById("h1");
        h1.innerText = "新增一段文字可是不能新增input,<intput type='text'/>";

        //可以新增html
        let h1_2 = document.getElementById("h1_2");
        h1_2.innerHTML = "可以新增文字，也可以新增html,<input id='input' type='text' />"
        //選到剛剛透過innet.HTML選到的input並加入valu給它
        let input = document.getElementById("input");
        input.value = "我是剛剛透過innerHTML加入的input";

        //修改css
        h1.style.color = "#ff0000";
        h1_2.classList.add("blue","italic"); //新增class;
        h1_2.classList.remove("italic"); //移除class;


        //選取button
        let button = document.querySelector(".button");
        button.innerText="click me";
        button.classList.add("btn","btn-danger","d-block");
        
        // 按鈕變色小動畫方法
        function change_color(){
            setTimeout(()=>{
                button.classList.replace("btn-danger","btn-primary");
            },300)
            setTimeout(() => {
                button.classList.replace("btn-primary","btn-danger");
            },600)
            setTimeout(() => {
                button.classList.replace("btn-danger","btn-primary");
            },900)
            setTimeout(() => {
                button.classList.replace("btn-primary","btn-danger");
            },1200)
        }

        //設定DOM元素屬性
        let img = document.getElementById("img");
        img.setAttribute("src", "https://fakeimg.pl/200x300/666");  

        let pwd_input = document.getElementById("input-pwd");
        console.log(pwd_input)
        pwd_input.setAttribute('type','password');

        //自定義屬性
        button.setAttribute("custom",`{"Name":"洗手乳","price":100}`);
        // 在button裡藏一個叫做custom屬性並給它值
        
        //改變標籤的方法
        function trans(){
            let product = JSON.parse(button.getAttributeNode('custom').value);
            h1.innerText = `名稱:${product.Name} 價格:${product.price}`;
        };

        //把變色的方法跟改標籤的方法為給button
        button.onclick = function(){
            trans(),
            change_color()
        }


        //JSON.parse() 方法把會把一個JSON字串轉換成 JavaScript的數值或是物件
    </script>
  </body>
</html>